name: üçè macOS

on: [push, pull_request]

concurrency:
  group: ${{ github.ref }}-${{ github.head_ref }}-macos
  cancel-in-progress: true

jobs:
  build_appleclang:
    name: AppleClang
    runs-on: macos-latest
    if: github.event.pull_request.draft == false
    env:
      CXXFLAGS: "-Werror -Wno-error=pass-failed"
      # For macOS, Ninja is slower than the default:
      #CMAKE_GENERATOR: Ninja
      SETUPTOOLS_USE_DISTUTILS: stdlib
    steps:
    - uses: actions/checkout@v3
    - name: Experiment1
      run: |
        echo "Caskroom"
        ls /usr/local/Caskroom
        echo "Cellar"
        ls /usr/local/Cellar
        echo "Frameworks"
        ls /usr/local/Frameworks
        echo "Homebrew"
        ls /usr/local/Homebrew
        echo "bin"
        ls /usr/local/bin
        echo "etc"
        ls /usr/local/etc
        echo "include"
        ls /usr/local/include
        echo "lib"
        ls /usr/local/lib
        echo "opt"
        ls /usr/local/opt
        echo "sbin"
        ls /usr/local/sbin
        echo "var"
        ls /usr/local/var
        echo "Homebrew"
        ls /Users/runner/Library/Caches/Homebrew
    - name: Brew Cache
      uses: actions/cache@v3
      # - once stored under a key, they become immutable (even if local cache path content changes)
      # - for a refresh the key has to change, e.g., hash of a tracked file in the key
      with:
        path: |
          /usr/local/Cellar/adios2
          /usr/local/Cellar/c-blosc
          /usr/local/Cellar/ccache
          /usr/local/Cellar/fftw
          /usr/local/Cellar/hdf5-mpi
          /usr/local/Cellar/hiredis
          /usr/local/Cellar/hwloc
          /usr/local/Cellar/libaec
          /usr/local/Cellar/libfabric
          /usr/local/Cellar/mpi4py
          /usr/local/Cellar/ninja
          /usr/local/Cellar/nlohmann-json
          /usr/local/Cellar/numpy
          /usr/local/Cellar/open-mpi
          /usr/local/Cellar/openpmd-api
          /usr/local/Cellar/pugixml
          /usr/local/Cellar/pybind11
          /usr/local/Cellar/yaml-cpp
          /usr/local/Cellar/zeromq
          /usr/local/bin/adios2-config
          /usr/local/bin/adios2_deactivate_bp
          /usr/local/bin/adios2_iotest
          /usr/local/bin/adios2_json_pp
          /usr/local/bin/adios2_reorganize
          /usr/local/bin/adios2_reorganize_mpi
          /usr/local/bin/aec
          /usr/local/bin/aggregate_profile.pl
          /usr/local/bin/bp4dbg
          /usr/local/bin/bp5dbg
          /usr/local/bin/bpls
          /usr/local/bin/ccache
          /usr/local/bin/curve_keygen
          /usr/local/bin/f2py
          /usr/local/bin/f2py3
          /usr/local/bin/f2py3.10
          /usr/local/bin/f2py3.11
          /usr/local/bin/fftw-wisdom
          /usr/local/bin/fftw-wisdom-to-conf
          /usr/local/bin/fftwf-wisdom
          /usr/local/bin/fftwl-wisdom
          /usr/local/bin/fi_info
          /usr/local/bin/fi_pingpong
          /usr/local/bin/fi_strerror
          /usr/local/bin/gif2h5
          /usr/local/bin/h52gif
          /usr/local/bin/h5clear
          /usr/local/bin/h5copy
          /usr/local/bin/h5debug
          /usr/local/bin/h5diff
          /usr/local/bin/h5dump
          /usr/local/bin/h5format_convert
          /usr/local/bin/h5import
          /usr/local/bin/h5jam
          /usr/local/bin/h5ls
          /usr/local/bin/h5mkgrp
          /usr/local/bin/h5pcc
          /usr/local/bin/h5perf
          /usr/local/bin/h5perf_serial
          /usr/local/bin/h5pfc
          /usr/local/bin/h5redeploy
          /usr/local/bin/h5repack
          /usr/local/bin/h5repart
          /usr/local/bin/h5stat
          /usr/local/bin/h5unjam
          /usr/local/bin/h5watch
          /usr/local/bin/hwloc-annotate
          /usr/local/bin/hwloc-bind
          /usr/local/bin/hwloc-calc
          /usr/local/bin/hwloc-compress-dir
          /usr/local/bin/hwloc-diff
          /usr/local/bin/hwloc-distrib
          /usr/local/bin/hwloc-gather-cpuid
          /usr/local/bin/hwloc-info
          /usr/local/bin/hwloc-ls
          /usr/local/bin/hwloc-patch
          /usr/local/bin/hwloc-ps
          /usr/local/bin/lstopo
          /usr/local/bin/lstopo-no-graphics
          /usr/local/bin/mpic++
          /usr/local/bin/mpicc
          /usr/local/bin/mpicxx
          /usr/local/bin/mpiexec
          /usr/local/bin/mpif77
          /usr/local/bin/mpif90
          /usr/local/bin/mpifort
          /usr/local/bin/mpirun
          /usr/local/bin/ninja
          /usr/local/bin/ompi-clean
          /usr/local/bin/ompi-server
          /usr/local/bin/ompi_info
          /usr/local/bin/opal_wrapper
          /usr/local/bin/openpmd-ls
          /usr/local/bin/openpmd-pipe
          /usr/local/bin/orte-clean
          /usr/local/bin/orte-info
          /usr/local/bin/orte-server
          /usr/local/bin/ortecc
          /usr/local/bin/orted
          /usr/local/bin/orterun
          /usr/local/bin/perf
          /usr/local/bin/ph5diff
          /usr/local/bin/profile2mat.pl
          /usr/local/bin/pybind11-config
          /usr/local/bin/pybind11-config-3.10
          /usr/local/bin/pybind11-config-3.11
          /usr/local/bin/sst_conn_tool
          /usr/local/etc/openmpi-default-hostfile
          /usr/local/etc/openmpi-mca-params.conf
          /usr/local/etc/openmpi-totalview.tcl
          /usr/local/etc/pmix-mca-params.conf
          /usr/local/include/H5ACpublic.h
          /usr/local/include/H5Apublic.h
          /usr/local/include/H5Cpublic.h
          /usr/local/include/H5DOpublic.h
          /usr/local/include/H5DSpublic.h
          /usr/local/include/H5Dpublic.h
          /usr/local/include/H5ESpublic.h
          /usr/local/include/H5Epubgen.h
          /usr/local/include/H5Epublic.h
          /usr/local/include/H5FDcore.h
          /usr/local/include/H5FDdirect.h
          /usr/local/include/H5FDfamily.h
          /usr/local/include/H5FDhdfs.h
          /usr/local/include/H5FDlog.h
          /usr/local/include/H5FDmirror.h
          /usr/local/include/H5FDmpi.h
          /usr/local/include/H5FDmpio.h
          /usr/local/include/H5FDmulti.h
          /usr/local/include/H5FDpublic.h
          /usr/local/include/H5FDros3.h
          /usr/local/include/H5FDsec2.h
          /usr/local/include/H5FDsplitter.h
          /usr/local/include/H5FDstdio.h
          /usr/local/include/H5FDwindows.h
          /usr/local/include/H5Fpublic.h
          /usr/local/include/H5Gpublic.h
          /usr/local/include/H5IMpublic.h
          /usr/local/include/H5Ipublic.h
          /usr/local/include/H5LDpublic.h
          /usr/local/include/H5LTpublic.h
          /usr/local/include/H5Lpublic.h
          /usr/local/include/H5MMpublic.h
          /usr/local/include/H5Mpublic.h
          /usr/local/include/H5Opublic.h
          /usr/local/include/H5PLextern.h
          /usr/local/include/H5PLpublic.h
          /usr/local/include/H5PTpublic.h
          /usr/local/include/H5Ppublic.h
          /usr/local/include/H5Rpublic.h
          /usr/local/include/H5Spublic.h
          /usr/local/include/H5TBpublic.h
          /usr/local/include/H5Tpublic.h
          /usr/local/include/H5VLconnector.h
          /usr/local/include/H5VLconnector_passthru.h
          /usr/local/include/H5VLnative.h
          /usr/local/include/H5VLpassthru.h
          /usr/local/include/H5VLpublic.h
          /usr/local/include/H5Zpublic.h
          /usr/local/include/H5api_adpt.h
          /usr/local/include/H5f90i.h
          /usr/local/include/H5f90i_gen.h
          /usr/local/include/H5overflow.h
          /usr/local/include/H5pubconf.h
          /usr/local/include/H5public.h
          /usr/local/include/H5version.h
          /usr/local/include/adios2
          /usr/local/include/adios2.h
          /usr/local/include/adios2_c.h
          /usr/local/include/blosc-export.h
          /usr/local/include/blosc.h
          /usr/local/include/fftw3-mpi.f03
          /usr/local/include/fftw3-mpi.h
          /usr/local/include/fftw3.f
          /usr/local/include/fftw3.f03
          /usr/local/include/fftw3.h
          /usr/local/include/fftw3l-mpi.f03
          /usr/local/include/fftw3l.f03
          /usr/local/include/fftw3q.f03
          /usr/local/include/h5_gen.mod
          /usr/local/include/h5a.mod
          /usr/local/include/h5d.mod
          /usr/local/include/h5ds.mod
          /usr/local/include/h5e.mod
          /usr/local/include/h5f.mod
          /usr/local/include/h5fortkit.mod
          /usr/local/include/h5fortran_types.mod
          /usr/local/include/h5g.mod
          /usr/local/include/h5global.mod
          /usr/local/include/h5i.mod
          /usr/local/include/h5im.mod
          /usr/local/include/h5l.mod
          /usr/local/include/h5lib.mod
          /usr/local/include/h5lt.mod
          /usr/local/include/h5lt_const.mod
          /usr/local/include/h5o.mod
          /usr/local/include/h5p.mod
          /usr/local/include/h5r.mod
          /usr/local/include/h5s.mod
          /usr/local/include/h5t.mod
          /usr/local/include/h5tb.mod
          /usr/local/include/h5tb_const.mod
          /usr/local/include/h5vl.mod
          /usr/local/include/h5z.mod
          /usr/local/include/hdf5.h
          /usr/local/include/hdf5.mod
          /usr/local/include/hdf5_hl.h
          /usr/local/include/hiredis
          /usr/local/include/hwloc
          /usr/local/include/hwloc.h
          /usr/local/include/libaec.h
          /usr/local/include/mpi-ext.h
          /usr/local/include/mpi.h
          /usr/local/include/mpi.mod
          /usr/local/include/mpi_ext.mod
          /usr/local/include/mpi_f08.mod
          /usr/local/include/mpi_f08_callbacks.mod
          /usr/local/include/mpi_f08_ext.mod
          /usr/local/include/mpi_f08_interfaces.mod
          /usr/local/include/mpi_f08_interfaces_callbacks.mod
          /usr/local/include/mpi_f08_types.mod
          /usr/local/include/mpi_portable_platform.h
          /usr/local/include/mpif-c-constants-decl.h
          /usr/local/include/mpif-config.h
          /usr/local/include/mpif-constants.h
          /usr/local/include/mpif-ext.h
          /usr/local/include/mpif-externals.h
          /usr/local/include/mpif-handles.h
          /usr/local/include/mpif-io-constants.h
          /usr/local/include/mpif-io-handles.h
          /usr/local/include/mpif-sentinels.h
          /usr/local/include/mpif-sizeof.h
          /usr/local/include/mpif.h
          /usr/local/include/nlohmann
          /usr/local/include/omp-tools.h
          /usr/local/include/omp.h
          /usr/local/include/ompt.h
          /usr/local/include/openPMD
          /usr/local/include/openmpi
          /usr/local/include/pmpi_f08_interfaces.mod
          /usr/local/include/pugiconfig.hpp
          /usr/local/include/pugixml.hpp
          /usr/local/include/pybind11
          /usr/local/include/rdma
          /usr/local/include/szlib.h
          /usr/local/include/yaml-cpp
          /usr/local/include/zmq.h
          /usr/local/include/zmq_utils.h
          /usr/local/lib/libEncryptionOperator.dylib
          /usr/local/lib/libadios2_atl.2.2.1.dylib
          /usr/local/lib/libadios2_atl.2.dylib
          /usr/local/lib/libadios2_atl.dylib
          /usr/local/lib/libadios2_c.2.9.0.dylib
          /usr/local/lib/libadios2_c.2.dylib
          /usr/local/lib/libadios2_c.dylib
          /usr/local/lib/libadios2_c_mpi.2.9.0.dylib
          /usr/local/lib/libadios2_c_mpi.2.dylib
          /usr/local/lib/libadios2_c_mpi.dylib
          /usr/local/lib/libadios2_cmenet.so
          /usr/local/lib/libadios2_cmmulticast.so
          /usr/local/lib/libadios2_cmselect.so
          /usr/local/lib/libadios2_cmsockets.so
          /usr/local/lib/libadios2_cmudp.so
          /usr/local/lib/libadios2_cmzplenet.so
          /usr/local/lib/libadios2_core.2.9.0.dylib
          /usr/local/lib/libadios2_core.2.dylib
          /usr/local/lib/libadios2_core.dylib
          /usr/local/lib/libadios2_core_mpi.2.9.0.dylib
          /usr/local/lib/libadios2_core_mpi.2.dylib
          /usr/local/lib/libadios2_core_mpi.dylib
          /usr/local/lib/libadios2_cxx11.2.9.0.dylib
          /usr/local/lib/libadios2_cxx11.2.dylib
          /usr/local/lib/libadios2_cxx11.dylib
          /usr/local/lib/libadios2_cxx11_mpi.2.9.0.dylib
          /usr/local/lib/libadios2_cxx11_mpi.2.dylib
          /usr/local/lib/libadios2_cxx11_mpi.dylib
          /usr/local/lib/libadios2_dill.2.4.1.dylib
          /usr/local/lib/libadios2_dill.2.dylib
          /usr/local/lib/libadios2_dill.dylib
          /usr/local/lib/libadios2_enet.1.3.14.dylib
          /usr/local/lib/libadios2_enet.1.dylib
          /usr/local/lib/libadios2_enet.dylib
          /usr/local/lib/libadios2_evpath.dylib
          /usr/local/lib/libadios2_ffs.2.0.0.dylib
          /usr/local/lib/libadios2_ffs.2.dylib
          /usr/local/lib/libadios2_ffs.dylib
          /usr/local/lib/libadios2_fortran.2.9.0.dylib
          /usr/local/lib/libadios2_fortran.2.dylib
          /usr/local/lib/libadios2_fortran.dylib
          /usr/local/lib/libadios2_fortran_mpi.2.9.0.dylib
          /usr/local/lib/libadios2_fortran_mpi.2.dylib
          /usr/local/lib/libadios2_fortran_mpi.dylib
          /usr/local/lib/libadios2_perfstubs.dylib
          /usr/local/lib/libaec.0.0.12.dylib
          /usr/local/lib/libaec.0.dylib
          /usr/local/lib/libaec.a
          /usr/local/lib/libaec.dylib
          /usr/local/lib/libblosc.1.21.3.dylib
          /usr/local/lib/libblosc.1.dylib
          /usr/local/lib/libblosc.a
          /usr/local/lib/libblosc.dylib
          /usr/local/lib/libfabric.1.dylib
          /usr/local/lib/libfabric.a
          /usr/local/lib/libfabric.dylib
          /usr/local/lib/libfftw3.3.dylib
          /usr/local/lib/libfftw3.a
          /usr/local/lib/libfftw3.dylib
          /usr/local/lib/libfftw3_mpi.3.dylib
          /usr/local/lib/libfftw3_mpi.a
          /usr/local/lib/libfftw3_mpi.dylib
          /usr/local/lib/libfftw3_omp.3.dylib
          /usr/local/lib/libfftw3_omp.a
          /usr/local/lib/libfftw3_omp.dylib
          /usr/local/lib/libfftw3_threads.3.dylib
          /usr/local/lib/libfftw3_threads.a
          /usr/local/lib/libfftw3_threads.dylib
          /usr/local/lib/libfftw3f.3.dylib
          /usr/local/lib/libfftw3f.a
          /usr/local/lib/libfftw3f.dylib
          /usr/local/lib/libfftw3f_mpi.3.dylib
          /usr/local/lib/libfftw3f_mpi.a
          /usr/local/lib/libfftw3f_mpi.dylib
          /usr/local/lib/libfftw3f_omp.3.dylib
          /usr/local/lib/libfftw3f_omp.a
          /usr/local/lib/libfftw3f_omp.dylib
          /usr/local/lib/libfftw3f_threads.3.dylib
          /usr/local/lib/libfftw3f_threads.a
          /usr/local/lib/libfftw3f_threads.dylib
          /usr/local/lib/libfftw3l.3.dylib
          /usr/local/lib/libfftw3l.a
          /usr/local/lib/libfftw3l.dylib
          /usr/local/lib/libfftw3l_mpi.3.dylib
          /usr/local/lib/libfftw3l_mpi.a
          /usr/local/lib/libfftw3l_mpi.dylib
          /usr/local/lib/libfftw3l_omp.3.dylib
          /usr/local/lib/libfftw3l_omp.a
          /usr/local/lib/libfftw3l_omp.dylib
          /usr/local/lib/libfftw3l_threads.3.dylib
          /usr/local/lib/libfftw3l_threads.a
          /usr/local/lib/libfftw3l_threads.dylib
          /usr/local/lib/libhdf5.200.dylib
          /usr/local/lib/libhdf5.a
          /usr/local/lib/libhdf5.dylib
          /usr/local/lib/libhdf5_fortran.200.dylib
          /usr/local/lib/libhdf5_fortran.a
          /usr/local/lib/libhdf5_fortran.dylib
          /usr/local/lib/libhdf5_hl.200.dylib
          /usr/local/lib/libhdf5_hl.a
          /usr/local/lib/libhdf5_hl.dylib
          /usr/local/lib/libhdf5_hl_fortran.a
          /usr/local/lib/libhdf5hl_fortran.200.dylib
          /usr/local/lib/libhdf5hl_fortran.a
          /usr/local/lib/libhdf5hl_fortran.dylib
          /usr/local/lib/libhiredis.1.1.0.dylib
          /usr/local/lib/libhiredis.a
          /usr/local/lib/libhiredis.dylib
          /usr/local/lib/libhwloc.15.dylib
          /usr/local/lib/libhwloc.a
          /usr/local/lib/libhwloc.dylib
          /usr/local/lib/libmca_common_dstore.1.dylib
          /usr/local/lib/libmca_common_dstore.dylib
          /usr/local/lib/libmca_common_monitoring.50.dylib
          /usr/local/lib/libmca_common_monitoring.dylib
          /usr/local/lib/libmca_common_ompio.41.dylib
          /usr/local/lib/libmca_common_ompio.dylib
          /usr/local/lib/libmca_common_sm.40.dylib
          /usr/local/lib/libmca_common_sm.dylib
          /usr/local/lib/libmpi.40.dylib
          /usr/local/lib/libmpi.dylib
          /usr/local/lib/libmpi_mpifh.40.dylib
          /usr/local/lib/libmpi_mpifh.dylib
          /usr/local/lib/libmpi_usempi_ignore_tkr.40.dylib
          /usr/local/lib/libmpi_usempi_ignore_tkr.dylib
          /usr/local/lib/libmpi_usempif08.40.dylib
          /usr/local/lib/libmpi_usempif08.dylib
          /usr/local/lib/libomp.a
          /usr/local/lib/libomp.dylib
          /usr/local/lib/libompitrace.40.dylib
          /usr/local/lib/libompitrace.dylib
          /usr/local/lib/libopen-pal.40.dylib
          /usr/local/lib/libopen-pal.dylib
          /usr/local/lib/libopen-rte.40.dylib
          /usr/local/lib/libopen-rte.dylib
          /usr/local/lib/libopenPMD.dylib
          /usr/local/lib/libpugixml.1.13.dylib
          /usr/local/lib/libpugixml.1.dylib
          /usr/local/lib/libpugixml.a
          /usr/local/lib/libpugixml.dylib
          /usr/local/lib/libsz.2.0.1.dylib
          /usr/local/lib/libsz.2.dylib
          /usr/local/lib/libsz.a
          /usr/local/lib/libsz.dylib
          /usr/local/lib/libtdsodbc.a
          /usr/local/lib/libtdsodbc.so
          /usr/local/lib/libtextstyle.0.dylib
          /usr/local/lib/libtextstyle.a
          /usr/local/lib/libtextstyle.dylib
          /usr/local/lib/libtidy.5.8.0.dylib
          /usr/local/lib/libtidy.58.dylib
          /usr/local/lib/libtidy.a
          /usr/local/lib/libtidy.dylib
          /usr/local/lib/libtiff.5.dylib
          /usr/local/lib/libtiff.a
          /usr/local/lib/libtiff.dylib
          /usr/local/lib/libtiffxx.5.dylib
          /usr/local/lib/libtiffxx.a
          /usr/local/lib/libtiffxx.dylib
          /usr/local/lib/libtk8.6.dylib
          /usr/local/lib/libtkstub8.6.a
          /usr/local/lib/libturbojpeg.0.2.0.dylib
          /usr/local/lib/libturbojpeg.0.dylib
          /usr/local/lib/libturbojpeg.a
          /usr/local/lib/libturbojpeg.dylib
          /usr/local/lib/libunbound.8.dylib
          /usr/local/lib/libunbound.a
          /usr/local/lib/libunbound.dylib
          /usr/local/lib/libunistring.5.dylib
          /usr/local/lib/libunistring.a
          /usr/local/lib/libunistring.dylib
          /usr/local/lib/libusb-1.0.0.dylib
          /usr/local/lib/libusb-1.0.a
          /usr/local/lib/libusb-1.0.dylib
          /usr/local/lib/libutf8proc.2.dylib
          /usr/local/lib/libutf8proc.a
          /usr/local/lib/libutf8proc.dylib
          /usr/local/lib/libuv.1.dylib
          /usr/local/lib/libuv.a
          /usr/local/lib/libuv.dylib
          /usr/local/lib/libvdehist.0.dylib
          /usr/local/lib/libvdehist.a
          /usr/local/lib/libvdehist.dylib
          /usr/local/lib/libvdemgmt.0.dylib
          /usr/local/lib/libvdemgmt.a
          /usr/local/lib/libvdemgmt.dylib
          /usr/local/lib/libvdeplug.3.dylib
          /usr/local/lib/libvdeplug.a
          /usr/local/lib/libvdeplug.dylib
          /usr/local/lib/libvdesnmp.0.dylib
          /usr/local/lib/libvdesnmp.a
          /usr/local/lib/libvdesnmp.dylib
          /usr/local/lib/libvmaf.1.dylib
          /usr/local/lib/libvmaf.a
          /usr/local/lib/libvmaf.dylib
          /usr/local/lib/libvorbis.0.dylib
          /usr/local/lib/libvorbis.a
          /usr/local/lib/libvorbis.dylib
          /usr/local/lib/libvorbisenc.2.dylib
          /usr/local/lib/libvorbisenc.a
          /usr/local/lib/libvorbisenc.dylib
          /usr/local/lib/libvorbisfile.3.dylib
          /usr/local/lib/libvorbisfile.a
          /usr/local/lib/libvorbisfile.dylib
          /usr/local/lib/libwebp.7.1.6.dylib
          /usr/local/lib/libwebp.7.dylib
          /usr/local/lib/libwebp.a
          /usr/local/lib/libwebp.dylib
          /usr/local/lib/libwebpdecoder.3.1.6.dylib
          /usr/local/lib/libwebpdecoder.3.dylib
          /usr/local/lib/libwebpdecoder.a
          /usr/local/lib/libwebpdecoder.dylib
          /usr/local/lib/libwebpdemux.2.0.12.dylib
          /usr/local/lib/libwebpdemux.2.dylib
          /usr/local/lib/libwebpdemux.a
          /usr/local/lib/libwebpdemux.dylib
          /usr/local/lib/libwebpmux.3.0.11.dylib
          /usr/local/lib/libwebpmux.3.dylib
          /usr/local/lib/libwebpmux.a
          /usr/local/lib/libwebpmux.dylib
          /usr/local/lib/libx265.199.dylib
          /usr/local/lib/libx265.a
          /usr/local/lib/libx265.dylib
          /usr/local/lib/libxcb-composite.0.0.0.dylib
          /usr/local/lib/libxcb-composite.0.dylib
          /usr/local/lib/libxcb-composite.a
          /usr/local/lib/libxcb-composite.dylib
          /usr/local/lib/libxcb-damage.0.0.0.dylib
          /usr/local/lib/libxcb-damage.0.dylib
          /usr/local/lib/libxcb-damage.a
          /usr/local/lib/libxcb-damage.dylib
          /usr/local/lib/libxcb-dpms.0.0.0.dylib
          /usr/local/lib/libxcb-dpms.0.dylib
          /usr/local/lib/libxcb-dpms.a
          /usr/local/lib/libxcb-dpms.dylib
          /usr/local/lib/libxcb-dri2.0.0.0.dylib
          /usr/local/lib/libxcb-dri2.0.dylib
          /usr/local/lib/libxcb-dri2.a
          /usr/local/lib/libxcb-dri2.dylib
          /usr/local/lib/libxcb-dri3.0.1.0.dylib
          /usr/local/lib/libxcb-dri3.0.dylib
          /usr/local/lib/libxcb-dri3.a
          /usr/local/lib/libxcb-dri3.dylib
          /usr/local/lib/libxcb-ge.0.0.0.dylib
          /usr/local/lib/libxcb-ge.0.dylib
          /usr/local/lib/libxcb-ge.a
          /usr/local/lib/libxcb-ge.dylib
          /usr/local/lib/libxcb-glx.0.0.0.dylib
          /usr/local/lib/libxcb-glx.0.dylib
          /usr/local/lib/libxcb-glx.a
          /usr/local/lib/libxcb-glx.dylib
          /usr/local/lib/libxcb-present.0.0.0.dylib
          /usr/local/lib/libxcb-present.0.dylib
          /usr/local/lib/libxcb-present.a
          /usr/local/lib/libxcb-present.dylib
          /usr/local/lib/libxcb-randr.0.1.0.dylib
          /usr/local/lib/libxcb-randr.0.dylib
          /usr/local/lib/libxcb-randr.a
          /usr/local/lib/libxcb-randr.dylib
          /usr/local/lib/libxcb-record.0.0.0.dylib
          /usr/local/lib/libxcb-record.0.dylib
          /usr/local/lib/libxcb-record.a
          /usr/local/lib/libxcb-record.dylib
          /usr/local/lib/libxcb-render.0.0.0.dylib
          /usr/local/lib/libxcb-render.0.dylib
          /usr/local/lib/libxcb-render.a
          /usr/local/lib/libxcb-render.dylib
          /usr/local/lib/libxcb-res.0.0.0.dylib
          /usr/local/lib/libxcb-res.0.dylib
          /usr/local/lib/libxcb-res.a
          /usr/local/lib/libxcb-res.dylib
          /usr/local/lib/libxcb-screensaver.0.0.0.dylib
          /usr/local/lib/libxcb-screensaver.0.dylib
          /usr/local/lib/libxcb-screensaver.a
          /usr/local/lib/libxcb-screensaver.dylib
          /usr/local/lib/libxcb-shape.0.0.0.dylib
          /usr/local/lib/libxcb-shape.0.dylib
          /usr/local/lib/libxcb-shape.a
          /usr/local/lib/libxcb-shape.dylib
          /usr/local/lib/libxcb-shm.0.0.0.dylib
          /usr/local/lib/libxcb-shm.0.dylib
          /usr/local/lib/libxcb-shm.a
          /usr/local/lib/libxcb-shm.dylib
          /usr/local/lib/libxcb-sync.1.0.0.dylib
          /usr/local/lib/libxcb-sync.1.dylib
          /usr/local/lib/libxcb-sync.a
          /usr/local/lib/libxcb-sync.dylib
          /usr/local/lib/libxcb-xevie.0.0.0.dylib
          /usr/local/lib/libxcb-xevie.0.dylib
          /usr/local/lib/libxcb-xevie.a
          /usr/local/lib/libxcb-xevie.dylib
          /usr/local/lib/libxcb-xf86dri.0.0.0.dylib
          /usr/local/lib/libxcb-xf86dri.0.dylib
          /usr/local/lib/libxcb-xf86dri.a
          /usr/local/lib/libxcb-xf86dri.dylib
          /usr/local/lib/libxcb-xfixes.0.0.0.dylib
          /usr/local/lib/libxcb-xfixes.0.dylib
          /usr/local/lib/libxcb-xfixes.a
          /usr/local/lib/libxcb-xfixes.dylib
          /usr/local/lib/libxcb-xinerama.0.0.0.dylib
          /usr/local/lib/libxcb-xinerama.0.dylib
          /usr/local/lib/libxcb-xinerama.a
          /usr/local/lib/libxcb-xinerama.dylib
          /usr/local/lib/libxcb-xinput.0.1.0.dylib
          /usr/local/lib/libxcb-xinput.0.dylib
          /usr/local/lib/libxcb-xinput.a
          /usr/local/lib/libxcb-xinput.dylib
          /usr/local/lib/libxcb-xkb.1.0.0.dylib
          /usr/local/lib/libxcb-xkb.1.dylib
          /usr/local/lib/libxcb-xkb.a
          /usr/local/lib/libxcb-xkb.dylib
          /usr/local/lib/libxcb-xprint.0.0.0.dylib
          /usr/local/lib/libxcb-xprint.0.dylib
          /usr/local/lib/libxcb-xprint.a
          /usr/local/lib/libxcb-xprint.dylib
          /usr/local/lib/libxcb-xselinux.0.0.0.dylib
          /usr/local/lib/libxcb-xselinux.0.dylib
          /usr/local/lib/libxcb-xselinux.a
          /usr/local/lib/libxcb-xselinux.dylib
          /usr/local/lib/libxcb-xtest.0.0.0.dylib
          /usr/local/lib/libxcb-xtest.0.dylib
          /usr/local/lib/libxcb-xtest.a
          /usr/local/lib/libxcb-xtest.dylib
          /usr/local/lib/libxcb-xv.0.0.0.dylib
          /usr/local/lib/libxcb-xv.0.dylib
          /usr/local/lib/libxcb-xv.a
          /usr/local/lib/libxcb-xv.dylib
          /usr/local/lib/libxcb-xvmc.0.0.0.dylib
          /usr/local/lib/libxcb-xvmc.0.dylib
          /usr/local/lib/libxcb-xvmc.a
          /usr/local/lib/libxcb-xvmc.dylib
          /usr/local/lib/libxcb.1.1.0.dylib
          /usr/local/lib/libxcb.1.dylib
          /usr/local/lib/libxcb.a
          /usr/local/lib/libxcb.dylib
          /usr/local/lib/libyaml-0.2.dylib
          /usr/local/lib/libyaml-cpp.0.7.0.dylib
          /usr/local/lib/libyaml-cpp.0.7.dylib
          /usr/local/lib/libyaml-cpp.dylib
          /usr/local/lib/libyaml.a
          /usr/local/lib/libyaml.dylib
          /usr/local/lib/libzip.5.5.dylib
          /usr/local/lib/libzip.5.dylib
          /usr/local/lib/libzip.dylib
          /usr/local/lib/libzmq.5.dylib
          /usr/local/lib/libzmq.a
          /usr/local/lib/libzmq.dylib
          /usr/local/lib/libzstd.1.5.5.dylib
          /usr/local/lib/libzstd.1.dylib
          /usr/local/lib/libzstd.a
          /usr/local/lib/libzstd.dylib
          /usr/local/lib/mpg123
          /usr/local/lib/node_modules
          /usr/local/lib/ompi_monitoring_prof.so
          /usr/local/lib/openjpeg-2.5
          /usr/local/lib/openmpi
          /usr/local/lib/p11-kit-proxy.dylib
          /usr/local/lib/p7zip
          /usr/local/lib/perl5
          /usr/local/lib/php
          /usr/local/lib/pkcs11
          /usr/local/lib/pkgconfig
          /usr/local/lib/pmix
          /usr/local/lib/postgresql@14
          /usr/local/lib/python3.10
          /usr/local/lib/python3.11
          /usr/local/lib/python3.9
          /usr/local/lib/ruby
          /usr/local/lib/sqlite3.40.0
          /usr/local/lib/stubs_container1.1
          /usr/local/lib/stubs_gen_decl1.1
          /usr/local/lib/stubs_gen_header1.1
          /usr/local/lib/stubs_gen_init1.1
          /usr/local/lib/stubs_gen_lib1.1
          /usr/local/lib/stubs_gen_macro1.1
          /usr/local/lib/stubs_gen_slot1.1
          /usr/local/lib/stubs_genframe1.1
          /usr/local/lib/stubs_reader1.1
          /usr/local/lib/stubs_writer1.1
          /usr/local/lib/svn-python
          /usr/local/lib/tcl8
          /usr/local/lib/tcl8.6
          /usr/local/lib/tclConfig.sh
          /usr/local/lib/tcllib1.21
          /usr/local/lib/tcllibc
          /usr/local/lib/tclooConfig.sh
          /usr/local/lib/tcltls1.7.22
          /usr/local/lib/tdbc1.1.5
          /usr/local/lib/tdbcmysql1.1.5
          /usr/local/lib/tdbcodbc1.1.5
          /usr/local/lib/tdbcpostgres1.1.5
          /usr/local/lib/thread2.8.8
          /usr/local/lib/tk8.6
          /usr/local/lib/tkConfig.sh
          /usr/local/opt/0mq
          /usr/local/opt/adios2
          /usr/local/opt/c-blosc
          /usr/local/opt/ccache
          /usr/local/opt/fftw
          /usr/local/opt/hdf5-mpi
          /usr/local/opt/hiredis
          /usr/local/opt/hwloc
          /usr/local/opt/libaec
          /usr/local/opt/libfabric
          /usr/local/opt/mpi4py
          /usr/local/opt/ninja
          /usr/local/opt/nlohmann-json
          /usr/local/opt/numpy
          /usr/local/opt/numpy@1.24
          /usr/local/opt/open-mpi
          /usr/local/opt/openmpi
          /usr/local/opt/openpmd-api
          /usr/local/opt/pugixml
          /usr/local/opt/pybind11
          /usr/local/opt/yaml-cpp
          /usr/local/opt/zeromq
          /usr/local/opt/zmq
          /Users/runner/Library/Caches/Homebrew/adios2--2.9.0
          /Users/runner/Library/Caches/Homebrew/adios2_bottle_manifest--2.9.0
          /Users/runner/Library/Caches/Homebrew/bicep--0.16.1
          /Users/runner/Library/Caches/Homebrew/c-blosc--1.21.3
          /Users/runner/Library/Caches/Homebrew/c-blosc_bottle_manifest--1.21.3
          /Users/runner/Library/Caches/Homebrew/ccache--4.8
          /Users/runner/Library/Caches/Homebrew/ccache_bottle_manifest--4.8
          /Users/runner/Library/Caches/Homebrew/fftw--3.3.10_1
          /Users/runner/Library/Caches/Homebrew/fftw_bottle_manifest--3.3.10_1
          /Users/runner/Library/Caches/Homebrew/gradle--8.0.2
          /Users/runner/Library/Caches/Homebrew/gradle_bottle_manifest--8.0.2-1
          /Users/runner/Library/Caches/Homebrew/hdf5-mpi--1.12.2_1
          /Users/runner/Library/Caches/Homebrew/hdf5-mpi_bottle_manifest--1.12.2_1-1
          /Users/runner/Library/Caches/Homebrew/hiredis--1.1.0
          /Users/runner/Library/Caches/Homebrew/hiredis_bottle_manifest--1.1.0
          /Users/runner/Library/Caches/Homebrew/hwloc--2.9.1
          /Users/runner/Library/Caches/Homebrew/hwloc_bottle_manifest--2.9.1
          /Users/runner/Library/Caches/Homebrew/imagemagick--7.1.1-7
          /Users/runner/Library/Caches/Homebrew/imagemagick_bottle_manifest--7.1.1-7
          /Users/runner/Library/Caches/Homebrew/libaec--1.0.6
          /Users/runner/Library/Caches/Homebrew/libaec_bottle_manifest--1.0.6
          /Users/runner/Library/Caches/Homebrew/libfabric--1.18.0
          /Users/runner/Library/Caches/Homebrew/libfabric_bottle_manifest--1.18.0
          /Users/runner/Library/Caches/Homebrew/libomp--16.0.2
          /Users/runner/Library/Caches/Homebrew/libomp_bottle_manifest--16.0.2
          /Users/runner/Library/Caches/Homebrew/lima--0.15.0
          /Users/runner/Library/Caches/Homebrew/lima_bottle_manifest--0.15.0
          /Users/runner/Library/Caches/Homebrew/mpi4py--3.1.4_1
          /Users/runner/Library/Caches/Homebrew/mpi4py_bottle_manifest--3.1.4_1
          /Users/runner/Library/Caches/Homebrew/ninja--1.11.1
          /Users/runner/Library/Caches/Homebrew/ninja_bottle_manifest--1.11.1
          /Users/runner/Library/Caches/Homebrew/nlohmann-json--3.11.2
          /Users/runner/Library/Caches/Homebrew/nlohmann-json_bottle_manifest--3.11.2
          /Users/runner/Library/Caches/Homebrew/node@18--18.15.0
          /Users/runner/Library/Caches/Homebrew/node@18_bottle_manifest--18.15.0-1
          /Users/runner/Library/Caches/Homebrew/numpy--1.24.2
          /Users/runner/Library/Caches/Homebrew/numpy_bottle_manifest--1.24.2
          /Users/runner/Library/Caches/Homebrew/open-mpi--4.1.5
          /Users/runner/Library/Caches/Homebrew/open-mpi_bottle_manifest--4.1.5
          /Users/runner/Library/Caches/Homebrew/openjdk_bottle_manifest--20
          /Users/runner/Library/Caches/Homebrew/openjpeg--2.5.0
          /Users/runner/Library/Caches/Homebrew/openjpeg_bottle_manifest--2.5.0-1
          /Users/runner/Library/Caches/Homebrew/openldap--2.6.4
          /Users/runner/Library/Caches/Homebrew/openldap_bottle_manifest--2.6.4
          /Users/runner/Library/Caches/Homebrew/openpmd-api--0.15.1.tar.gz
          /Users/runner/Library/Caches/Homebrew/openpmd-api--patch--c306483f1f94b308775a401c9cd67ee549fac6824a2264f5985499849fe210d5.patch
          /Users/runner/Library/Caches/Homebrew/openssl@1.1--1.1.1t
          /Users/runner/Library/Caches/Homebrew/openssl@1.1_bottle_manifest--1.1.1t
          /Users/runner/Library/Caches/Homebrew/openssl@3--3.1.0
          /Users/runner/Library/Caches/Homebrew/openssl@3_bottle_manifest--3.1.0
          /Users/runner/Library/Caches/Homebrew/opus--1.3.1
          /Users/runner/Library/Caches/Homebrew/opus_bottle_manifest--1.3.1-1
          /Users/runner/Library/Caches/Homebrew/opusfile--0.12
          /Users/runner/Library/Caches/Homebrew/opusfile_bottle_manifest--0.12
          /Users/runner/Library/Caches/Homebrew/p11-kit--0.24.1_1
          /Users/runner/Library/Caches/Homebrew/p11-kit_bottle_manifest--0.24.1_1
          /Users/runner/Library/Caches/Homebrew/p7zip--17.05
          /Users/runner/Library/Caches/Homebrew/p7zip_bottle_manifest--17.05-1
          /Users/runner/Library/Caches/Homebrew/packer--1.8.6
          /Users/runner/Library/Caches/Homebrew/packer_bottle_manifest--1.8.6
          /Users/runner/Library/Caches/Homebrew/pcre2--10.42
          /Users/runner/Library/Caches/Homebrew/pcre2_bottle_manifest--10.42
          /Users/runner/Library/Caches/Homebrew/perl--5.36.0
          /Users/runner/Library/Caches/Homebrew/perl_bottle_manifest--5.36.0
          /Users/runner/Library/Caches/Homebrew/php--8.2.4
          /Users/runner/Library/Caches/Homebrew/php--8.2.5
          /Users/runner/Library/Caches/Homebrew/php_bottle_manifest--8.2.4
          /Users/runner/Library/Caches/Homebrew/php_bottle_manifest--8.2.5
          /Users/runner/Library/Caches/Homebrew/pinentry--1.2.1
          /Users/runner/Library/Caches/Homebrew/pinentry_bottle_manifest--1.2.1
          /Users/runner/Library/Caches/Homebrew/pipx--1.2.0
          /Users/runner/Library/Caches/Homebrew/pipx_bottle_manifest--1.2.0
          /Users/runner/Library/Caches/Homebrew/pixman--0.42.2
          /Users/runner/Library/Caches/Homebrew/pixman_bottle_manifest--0.42.2
          /Users/runner/Library/Caches/Homebrew/pkg-config--0.29.2_3
          /Users/runner/Library/Caches/Homebrew/pkg-config_bottle_manifest--0.29.2_3
          /Users/runner/Library/Caches/Homebrew/postgresql@14--14.7
          /Users/runner/Library/Caches/Homebrew/postgresql@14_bottle_manifest--14.7
          /Users/runner/Library/Caches/Homebrew/pugixml--1.13
          /Users/runner/Library/Caches/Homebrew/pugixml_bottle_manifest--1.13
          /Users/runner/Library/Caches/Homebrew/pybind11--2.10.4
          /Users/runner/Library/Caches/Homebrew/pybind11_bottle_manifest--2.10.4
          /Users/runner/Library/Caches/Homebrew/python-typing-extensions--4.5.0
          /Users/runner/Library/Caches/Homebrew/python-typing-extensions_bottle_manifest--4.5.0
          /Users/runner/Library/Caches/Homebrew/python@3.10--3.10.11
          /Users/runner/Library/Caches/Homebrew/python@3.10_bottle_manifest--3.10.11
          /Users/runner/Library/Caches/Homebrew/python@3.11--3.11.3
          /Users/runner/Library/Caches/Homebrew/python@3.11_bottle_manifest--3.11.3
          /Users/runner/Library/Caches/Homebrew/qemu--7.2.1
          /Users/runner/Library/Caches/Homebrew/qemu_bottle_manifest--7.2.1
          /Users/runner/Library/Caches/Homebrew/qemu_bottle_manifest--7.2.1-1
          /Users/runner/Library/Caches/Homebrew/r--4.2.3
          /Users/runner/Library/Caches/Homebrew/r_bottle_manifest--4.2.3-2
          /Users/runner/Library/Caches/Homebrew/readline--8.2.1
          /Users/runner/Library/Caches/Homebrew/readline_bottle_manifest--8.2.1
          /Users/runner/Library/Caches/Homebrew/rtmpdump--2.4+20151223_1
          /Users/runner/Library/Caches/Homebrew/rtmpdump_bottle_manifest--2.4+20151223_1
          /Users/runner/Library/Caches/Homebrew/ruby@3.0--3.0.6
          /Users/runner/Library/Caches/Homebrew/ruby@3.0_bottle_manifest--3.0.6
          /Users/runner/Library/Caches/Homebrew/rustup-init--1.25.2
          /Users/runner/Library/Caches/Homebrew/rustup-init_bottle_manifest--1.25.2
          /Users/runner/Library/Caches/Homebrew/sbt--1.8.2
          /Users/runner/Library/Caches/Homebrew/sbt_bottle_manifest--1.8.2
          /Users/runner/Library/Caches/Homebrew/selenium-server--4.8.0
          /Users/runner/Library/Caches/Homebrew/selenium-server_bottle_manifest--4.8.0
          /Users/runner/Library/Caches/Homebrew/shared-mime-info--2.2
          /Users/runner/Library/Caches/Homebrew/shared-mime-info_bottle_manifest--2.2
          /Users/runner/Library/Caches/Homebrew/six--1.16.0_3
          /Users/runner/Library/Caches/Homebrew/six_bottle_manifest--1.16.0_3
          /Users/runner/Library/Caches/Homebrew/snappy--1.1.10
          /Users/runner/Library/Caches/Homebrew/snappy_bottle_manifest--1.1.10
          /Users/runner/Library/Caches/Homebrew/sox--14.4.2_5
          /Users/runner/Library/Caches/Homebrew/sox_bottle_manifest--14.4.2_5
          /Users/runner/Library/Caches/Homebrew/sqlite--3.41.2
          /Users/runner/Library/Caches/Homebrew/sqlite_bottle_manifest--3.41.2
          /Users/runner/Library/Caches/Homebrew/subversion--1.14.2_1
          /Users/runner/Library/Caches/Homebrew/subversion_bottle_manifest--1.14.2_1-2
          /Users/runner/Library/Caches/Homebrew/swiftformat--0.51.5
          /Users/runner/Library/Caches/Homebrew/swiftformat--0.51.6
          /Users/runner/Library/Caches/Homebrew/swiftformat_bottle_manifest--0.51.5
          /Users/runner/Library/Caches/Homebrew/swiftformat_bottle_manifest--0.51.6
          /Users/runner/Library/Caches/Homebrew/swig--4.1.1
          /Users/runner/Library/Caches/Homebrew/swig_bottle_manifest--4.1.1
          /Users/runner/Library/Caches/Homebrew/switchaudio-osx--1.2.1
          /Users/runner/Library/Caches/Homebrew/switchaudio-osx_bottle_manifest--1.2.1
          /Users/runner/Library/Caches/Homebrew/tcl-tk--8.6.13_2
          /Users/runner/Library/Caches/Homebrew/tcl-tk_bottle_manifest--8.6.13_2
          /Users/runner/Library/Caches/Homebrew/tidy-html5--5.8.0
          /Users/runner/Library/Caches/Homebrew/tidy-html5_bottle_manifest--5.8.0
          /Users/runner/Library/Caches/Homebrew/unbound--1.17.1
          /Users/runner/Library/Caches/Homebrew/unbound_bottle_manifest--1.17.1
          /Users/runner/Library/Caches/Homebrew/unixodbc--2.3.11
          /Users/runner/Library/Caches/Homebrew/unixodbc_bottle_manifest--2.3.11
          /Users/runner/Library/Caches/Homebrew/utf8proc--2.8.0
          /Users/runner/Library/Caches/Homebrew/utf8proc_bottle_manifest--2.8.0
          /Users/runner/Library/Caches/Homebrew/vde--2.3.3
          /Users/runner/Library/Caches/Homebrew/vde_bottle_manifest--2.3.3
          /Users/runner/Library/Caches/Homebrew/webp--1.3.0
          /Users/runner/Library/Caches/Homebrew/webp_bottle_manifest--1.3.0-2
          /Users/runner/Library/Caches/Homebrew/wget--1.21.3_1
          /Users/runner/Library/Caches/Homebrew/wget_bottle_manifest--1.21.3_1-1
          /Users/runner/Library/Caches/Homebrew/x265--3.5
          /Users/runner/Library/Caches/Homebrew/x265_bottle_manifest--3.5-1
          /Users/runner/Library/Caches/Homebrew/xorgproto--2022.2
          /Users/runner/Library/Caches/Homebrew/xorgproto_bottle_manifest--2022.2
          /Users/runner/Library/Caches/Homebrew/xz--5.4.2
          /Users/runner/Library/Caches/Homebrew/xz_bottle_manifest--5.4.2
          /Users/runner/Library/Caches/Homebrew/yaml-cpp--0.7.0
          /Users/runner/Library/Caches/Homebrew/yaml-cpp_bottle_manifest--0.7.0
          /Users/runner/Library/Caches/Homebrew/yq--4.33.3
          /Users/runner/Library/Caches/Homebrew/yq_bottle_manifest--4.33.3
          /Users/runner/Library/Caches/Homebrew/zeromq--4.3.4
          /Users/runner/Library/Caches/Homebrew/zeromq_bottle_manifest--4.3.4
          /Users/runner/Library/Caches/Homebrew/zlib--1.2.13
          /Users/runner/Library/Caches/Homebrew/zlib_bottle_manifest--1.2.13-1
          /Users/runner/Library/Caches/Homebrew/zstd--1.5.5
          /Users/runner/Library/Caches/Homebrew/zstd_bottle_manifest--1.5.5
        key: brew-macos-appleclang-${{ hashFiles('.github/workflows/macos.yml') }}
        restore-keys: |
          brew-macos-appleclang-
    - name: install dependencies
      run: |
        brew --cache
        set +e
        brew unlink gcc
        brew update
        brew install --overwrite python
        brew install ccache
        brew install fftw
        brew install libomp
        brew link --force libomp
        brew install ninja
        brew install open-mpi
        brew install pkg-config
        set -e
        brew tap openpmd/openpmd
        brew install openpmd-api
        python3 -m pip install matplotlib
        python3 -m pip install numpy
        python3 -m pip install scipy
    - name: Experiment2
      run: |
        echo "Caskroom"
        ls /usr/local/Caskroom
        echo "Cellar"
        ls /usr/local/Cellar
        echo "Frameworks"
        ls /usr/local/Frameworks
        echo "Homebrew"
        ls /usr/local/Homebrew
        echo "bin"
        ls /usr/local/bin
        echo "etc"
        ls /usr/local/etc
        echo "include"
        ls /usr/local/include
        echo "lib"
        ls /usr/local/lib
        echo "opt"
        ls /usr/local/opt
        echo "sbin"
        ls /usr/local/sbin
        echo "var"
        ls /usr/local/var
        echo "Homebrew"
        ls /Users/runner/Library/Caches/Homebrew
    - name: CCache Cache
      uses: actions/cache@v3
      # - once stored under a key, they become immutable (even if local cache path content changes)
      # - for a refresh the key has to change, e.g., hash of a tracked file in the key
      with:
        path: /Users/runner/Library/Caches/ccache
        key: ccache-macos-appleclang-${{ hashFiles('.github/workflows/macos.yml') }}-${{ hashFiles('cmake/dependencies/AMReX.cmake') }}-${{ github.event.repository.pushed_at }}
        restore-keys: |
          ccache-macos-appleclang-${{ hashFiles('.github/workflows/macos.yml') }}-
          ccache-macos-appleclang-
    - name: build HiPACE++
      run: |
        cmake -S . -B build_sp          \
          -DCMAKE_VERBOSE_MAKEFILE=ON   \
          -DHiPACE_openpmd_internal=OFF \
          -DHiPACE_PRECISION=SINGLE
        cmake --build build_sp -j 2

#    - name: test HiPACE++
#      run: |
#        ctest --test-dir build_sp --output-on-failure
